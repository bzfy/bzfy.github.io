<div id="app">
    <!-- 搜索框 -->
    <div class="search-container">
      <input 
        type="text" 
        v-model="searchQuery" 
        placeholder="search blog posts..." 
        style="width: 90%; height: 35px; color: #333; background-color: rgba(227,231,236,.2); line-height: 35px; margin-top: 20px; padding:10px 16px; border: 1px solid #c0c0c0; font-size: 16px; font-weight: bold; border-radius: 17px; outline: none; box-sizing: border-box; box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102,175,233,.6);"
      >
      <ul id="results-container">
        <li v-for="result in filteredResults" :key="result.url">
          <a :href="`${result.url}?query=${searchQuery}`" :title="result.desc">{{ result.title }}</a>
        </li>
      </ul>
    </div>
  
    <!-- 如果没有文章 -->
    <h2 v-if="posts.length === 0">No post found</h2>
  
    <!-- 文章列表 -->
    <div class="posts">
      <article class="post" v-for="post in paginatedPosts" :key="post.url">
        <h1>
          <a :href="post.url">{{ post.title }}</a>
        </h1>
        <div class="meta">
          <span class="date">
            {{ formatDate(post.date) }}
          </span>
          <ul class="tag">
            <li v-for="tag in post.tags" :key="tag">
              <a :href="`/tags#${tag}`">{{ tag }}</a>
            </li>
          </ul>
        </div>
        <div class="entry">
          {{ truncate(post.excerpt, 200) }}
        </div>
        <a :href="post.url" class="read-more">Read More</a>
      </article>
    </div>
  
    <!-- 分页 -->
    <div class="pagination">
      <span class="prev" v-if="currentPage > 1">
        <a @click="changePage(currentPage - 1)" href="javascript:void(0)">← 上一页</a>
      </span>
      <span class="next" v-if="currentPage < totalPages">
        <a @click="changePage(currentPage + 1)" href="javascript:void(0)">下一页 →</a>
      </span>
    </div>
  
    <!-- 不算子网站访客统计 -->
    <div align="center">
      <span style="font-family:Consolas;color:Silver;font-size:12px;">View: {{ siteViews }}</span>
      <span style="font-family:Consolas;color:Silver;font-size:12px;">User: {{ siteUsers }}</span>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
  <script>
    new Vue({
      el: '#app',
      data: {
        searchQuery: '',
        posts: [
          // 示例文章数据，需替换为动态加载的 JSON 数据
          { 
            title: 'Sample Post 1',
            url: '/post1',
            date: '2023-11-01',
            tags: ['Vue', 'JavaScript'],
            excerpt: 'This is a sample excerpt for post 1.',
            desc: 'A sample blog post'
          },
          { 
            title: 'Sample Post 2',
            url: '/post2',
            date: '2023-11-02',
            tags: ['HTML', 'CSS'],
            excerpt: 'This is a sample excerpt for post 2.',
            desc: 'Another blog post'
          }
        ],
        siteViews: 1000, // 示例 PV 数据
        siteUsers: 200, // 示例 UV 数据
        currentPage: 1,
        pageSize: 5
      },
      computed: {
        filteredResults() {
          return this.posts.filter(post =>
            post.title.toLowerCase().includes(this.searchQuery.toLowerCase())
          );
        },
        paginatedPosts() {
          const start = (this.currentPage - 1) * this.pageSize;
          const end = start + this.pageSize;
          return this.posts.slice(start, end);
        },
        totalPages() {
          return Math.ceil(this.posts.length / this.pageSize);
        }
      },
      methods: {
        formatDate(date) {
          const options = { year: 'numeric', month: '2-digit', day: '2-digit' };
          return new Date(date).toLocaleDateString('en-GB', options);
        },
        truncate(text, length) {
          return text.length > length ? text.slice(0, length) + '...' : text;
        },
        changePage(page) {
          if (page >= 1 && page <= this.totalPages) {
            this.currentPage = page;
          }
        }
      }
    });
  </script>